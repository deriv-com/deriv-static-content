<head>
  <style>
      .button_m {
        display: flex;
        gap: 5px;
        padding: 10px 25px;
        justify-content: center;
        align-items: center;
        background-color: #ff444f;
        border: 1px solid #ff444f;
        border-radius: 5px;
        font-size: 14px;
        cursor: pointer;
        height: 40px !important;
        width: 335px !important;
        margin-top: 2rem;
        font-weight: bold;
      }
      ​ .button:hover {
        background-color: #fafafa;
      }
      ​ .button:active {
        transition: width 0.1s, height 0.1s;
        height: 37px;
        width: 113px;
      }
      ​ .button span {
        font-weight: bold;
      }
      ​ .text-header {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      ​ .text-header span {
        padding: 0 10px;
        color: white;
        font-family: "Arial";
      }
      ​ .line-container {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      ​ .line {
        width: 100px;
        border-top: 1px solid white;
      }
      ​ body {
        background-color: red;
      }
      ​ .buttons_container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
      }
      ​ .buttons_container a {
        text-decoration: none;
      }
      input[type=text] {
        height: 30px;
        color: gray;
      }
  </style>
</head>


<body>
  <div id="s_n2" style="width: 340px !important;"> 
      <input id="email_input_n2" style="width: 335px !important;" type="text" placeholder="Email address" name="fname"><br><br>
      <p id="pEmail_n2" style="color: #ff444f !important; font-size:14px;visibility: hidden;margin-top: -20px;">Please enter a valid email</p>
      <p style="color: #D4D4D4 !important;padding-bottom: 30px;">By pressing “Sign up”, you confirm that you are 18 or older. You understand that we may use your email address to send you information about Deriv products and services as well as market news. You can always unsubscribe from these emails in your account settings. For more information, please take a look at Deriv’s <a style="color: #ff444f !important;" href="https://deriv.com/tnc/security-and-privacy.pdf">Security and privacy</a>.</p>
      <input type="checkbox" id="ckbx_n2" name="vehicle1">
      <label style="color: #D4D4D4 !important;"  for="ckbx_n2"> I agree to the <a href="https://deriv.com/terms-and-conditions/#clients" style="color: #ff444f !important;">terms and conditions</a> </label><br>
      <p id="pAgree_n2" style="color: #ff444f !important;font-size:14px;visibility: hidden;">Please tick the check for signup</p>
      <button id="myBtn_n2" class="button_m" type="button">Sign up</button>
  </div> 

  <script>
      const submit_btn_n2 = document.getElementById("myBtn_n2");
      const ckbx_n2=document.getElementById("ckbx_n2");
      const email_field_n2 =document.getElementById("email_input_n2");
      ckbx_n2.addEventListener("click", fckbx_n2);
      submit_btn_n2.addEventListener("click", f_submit_btn_n2);
      email_field_n2.addEventListener("keyup", f_email_input_errmsg_n2);
      

      function f_email_input_errmsg_n2()
      {
        const email = email_field_n2.value;
        if(is_emailValid(email))
          document.getElementById("pEmail_n2").style.visibility = "hidden";
        else
          document.getElementById("pEmail_n2").style.visibility = "visible";
      }
      
  function fckbx_n2()
  {
      if(ckbx_n2.checked==true){
      document.getElementById("pAgree_n2").style.visibility = "hidden";
      }
      else{
      document.getElementById("pAgree_n2").style.visibility = "visible";
      }
  }
  
  function f_submit_btn_n2() 
  {
      const email = email_field_n2.value;
      if(is_emailValid(email)&&(ckbx_n2.checked==true))
      {
          const verify_email_req = getVerifyEmailRequest(email);
          window.ws.send(JSON.stringify(verify_email_req));
      }
      else
      {
          if(ckbx_n2.checked==false)
          {
              document.getElementById("pAgree_n2").style.visibility = "visible";
              document.getElementById("pEmail_n2").style.visibility = "visible";
              if(is_emailValid(email))
                  {
                      document.getElementById("pEmail_n2").style.visibility = "hidden";
                  }
          }
          else if(email=='')
              {
                  document.getElementById("pEmail_n2").innerHTML="Please enter your email address."
                  document.getElementById("pEmail_n2").style.visibility = "visible";
              }
              else 
              {
                  document.getElementById("pEmail_n2").innerHTML="Please enter a valid address."
                  document.getElementById("pEmail_n2").style.visibility = "visible";
              }
          
      }
  }

  function is_emailValid(email)
  { 
      if (/^\w+([!#$%&'*+-/=?^_`{|}~\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email))
          return (true)
      return (false)
  }
      
  </script>

</body>